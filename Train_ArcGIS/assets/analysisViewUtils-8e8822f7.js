import{ac as o,ad as l,af as y,a3 as c,cT as r,eT as w,a6 as p,ix as f,v,X as h}from"./index-cb639cc1.js";import{p as $}from"./InteractiveToolBase-2426985e.js";let n=class extends ${constructor(t){super(t)}initialize(){this.addHandles(c(()=>this.analysisViewData.visible,t=>this.visible=t,r))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};o([l({constructOnly:!0})],n.prototype,"analysis",void 0),o([l()],n.prototype,"analysisViewData",void 0),n=o([y("esri.views.interactive.AnalysisToolBase")],n);function V(t,a){t.interactive=!0;const{tool:e,view:s}=t;s.activeTool=e;let i=w(a,()=>{s.activeTool===e&&(s.activeTool=null)});return p(async u=>{await f(()=>v(e)||!e.active,u),i=h(i)},a)}function b(t,a){return c(()=>t.interactive,()=>m(t,a),r)}function m(t,a){t.interactive?T(t,a):d(t)}function T(t,a){d(t);const{view:e,analysis:s}=t,i=new a({view:e,analysis:s,analysisViewData:t});return t.tool=i,e.tools.add(i),i}function d(t){const{view:a,tool:e}=t;v(e)||(a.tools.remove(e),t.tool=null)}export{n as a,V as c,d as m,b as s};
